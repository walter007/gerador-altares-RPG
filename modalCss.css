/* ---------- BACKDROP ---------- */
.modal-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.65);
  z-index: 99990;
}

/* ---------- WRAPPER DO MODAL ---------- */
.modal-wrapper {
  position: fixed;
  inset: 0;
  display: none;                /* por padrão escondido */
  justify-content: center;
  align-items: center;
  z-index: 99991;
}

/* ---------- CARTA DO MODAL ---------- */
.modal-card {
  width: min(880px, 96%);
  max-height: 84vh;
  overflow: auto;
  background: linear-gradient(180deg, #1b1b1b, #0f0f0f);
  border: 2px solid #6b4b2b;
  box-shadow: 0 8px 40px rgba(0,0,0,0.8);
  padding: 14px;
  border-radius: 12px;
  color: #f0e9dc;
  font-family: "Segoe UI", system-ui, -apple-system, "Noto Sans", sans-serif;
  position: relative;
  z-index: 99999;
}

.modal-card .modal-header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
}

.modal-card .modal-header h2,
.modal-card .modal-header h5 {
  margin:0;
  font-size:20px;
  color:#ffdca3;
  text-shadow: 0 1px 0 rgba(0,0,0,0.6);
}

.modal-card .modal-header button {
  background:transparent;
  border:0;
  color:#ffdca3;
  font-size:18px;
  cursor:pointer;
}

/* ---------- BODY ---------- */
.modal-card .modal-body {
  margin-top:10px;
  color: #f0e9dc;
}

/* ---------- FOOTER ---------- */
.modal-card .modal-footer {
  display:flex;
  justify-content:flex-end;
  margin-top:14px;
}

/* ---------- BOTÕES ---------- */
.modal-card button.btn {
  font-weight: 700;
  border-radius: 10px;
}

/* ---------- RESPONSIVO ---------- */
@media (max-width:600px) {
  .modal-card {
    width: 94%;
    padding: 10px;
  }
}


    #mapa {
      position: relative;
      width: 1000px;
      height: 1000px;
      background: #222;
      transform: scale(0.35);
      transform-origin: top left;
    }

    .hex {
      position: absolute;
      background-size: contain;
      /* evita cortar */
      background-repeat: no-repeat;
      background-position: center;
      pointer-events: auto;
      cursor: pointer;
      image-rendering: crisp-edges;
      width: var(--w);
      height: var(--h);
    }

    .hex.selecionado {
      outline: 3px solid yellow;
      z-index: 10;
    }

    .hex:hover {
      transform: translateY(-6px)
    }

    #viewport {
      width: 100%;
      height: 600px;
      overflow: auto;
      position: relative;
      background: #111;
    }

    .token {
      position: absolute;
      width: 40px;
      height: 40px;
      background: red;
      border-radius: 50%;
      pointer-events: none;
      z-index: 20;
    }

    .hud {
    position: fixed;
    top: 20px;
    left: 20px;
    background: rgba(0,0,0,0.6);
    padding: 10px 15px;
    border-radius: 10px;
    color: white;
    font-family: "Segoe UI";
    display: flex;
    align-items: center;
    gap: 10px;
    z-index: 9999;
}

.hud-icon{
     width: 60px;
     height: 60px;
}

#pmBarContainer {
    width: 120px;
    height: 12px;
    background: rgba(255,255,255,0.2);
    border-radius: 6px;
}

#pmBar {
    height: 100%;
    width: 100%;
    background: limegreen;
    border-radius: 6px;
    transition: width 0.4s;
}

/* cidade meta */
.cidade-meta { display:flex; gap:16px; align-items:center; color:#dcd6c9; margin-bottom:8px; }

/* estabelecimentos grid */
.estabs-grid { display:flex; flex-wrap:wrap; gap:8px; padding:6px 0; }
.estab-card {
  background: rgba(255,255,255,0.04);
  border: 1px solid rgba(255,255,255,0.06);
  padding:8px;
  border-radius:8px;
  min-width:160px;
  display:flex;
  gap:8px;
  align-items:center;
}
.estab-card img { width:44px; height:44px; object-fit:cover; border-radius:6px; }
.estab-card .estab-name { font-size:14px; color:#fff; }
.estab-card .estab-sub { font-size:12px; color:#cfc6b6; }

/* Botão Ver Cidade estilo */
#btnVerCidade {
  background: linear-gradient(180deg,#6b4b2b,#3f2a17);
  color: #fff;
  padding: 10px 18px;
  border-radius: 10px;
  border: 2px solid #f1d7aa;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  font-weight: 700;
}

#btnSairMapa {
  background: linear-gradient(180deg,#6b4b2b,#3f2a17);
  color: #fff;
  padding: 10px 18px;
  border-radius: 10px;
  border: 2px solid #f1d7aa;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  font-weight: 700;
}

#btnEntrarAventura {
  background: linear-gradient(180deg,#6b4b2b,#3f2a17);
  color: #fff;
  padding: 10px 18px;
  border-radius: 10px;
  border: 2px solid #f1d7aa;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  font-weight: 700;
}

#btnVerPOI{
  background: linear-gradient(180deg,#6b4b2b,#3f2a17);
  color: #fff;
  padding: 10px 18px;
  border-radius: 10px;
  border: 2px solid #f1d7aa;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  font-weight: 700;
}

#btnEntrarDungeon{
  background: linear-gradient(180deg,#6b4b2b,#3f2a17);
  color: #fff;
  padding: 10px 18px;
  border-radius: 10px;
  border: 2px solid #f1d7aa;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  font-weight: 700;
}



/* Dungeon UI styling */
.dungeon-wrapper {
  font-family: "Segoe UI", system-ui, -apple-system, "Noto Sans", sans-serif;
  color: #d8c8a8; /* antes #efe6d9 → muito mais legível */
}

.dungeon-topbar h2 {
  color: #000000;
  margin:0;
}

.dungeon-topbar h6 {
  color: #000000; /* levemente mais forte */
}

/* CARD PRINCIPAL DA DUNGEON */
.dungeon-card {
  background: linear-gradient(180deg,#1a1a1a,#0e0e0e); /* igual ao estilo novo */
  border: 1px solid rgba(107,75,43,0.9);
  border-radius: 10px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.6);
  color: #d8c8a8; /* texto mais escuro e legível */
}

/* ITENS DE SALA (inner cards da dungeon) */
#dungeonSalasList .sala-item {
  display:block;
  padding:10px;
  margin-bottom:8px;
  border-radius:8px;
  background: rgba(255,255,255,0.06);      /* antes 0.03, quase invisível */
  border: 1px solid rgba(255,255,255,0.10);
  color: #e0d4bd;                          /* igual aos inner-cards da aventura */
}

/* header da sala */
.sala-item .sala-header {
  display:flex;
  justify-content:space-between;
  gap:8px;
  align-items:center;
}

/* meta da sala */
.sala-meta {
  font-size:13px;
  color:#d1c6a8;  /* contraste reforçado */
  margin-top:6px;
}

/* MINIMAP */
.dungeon-minimap {
  min-height: 160px;
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  padding:8px;
  background: linear-gradient(180deg,
    rgba(255,255,255,0.05),
    rgba(255,255,255,0.03)
  ); /* antes 0.02/0.01 – quase invisível */
  border-radius: 8px;
  border: 1px solid rgba(255,255,255,0.10);
}

/* NÓS DO MINIMAPA */
.minimap-node {
  width: 44px;
  height: 44px;
  border-radius: 8px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  cursor:pointer;
  background: rgba(255,255,255,0.06); /* antes 0.03 */
  color: #f5e9d0;                     /* texto mais claro */
  border: 1px solid rgba(255,255,255,0.10);
}

/* nó ativo */
.minimap-node.active {
  outline: 2px solid #ffdca3;
  box-shadow: 0 4px 12px rgba(0,0,0,0.6);
}

/* botão auxiliar */
.btn-small-icon {
  padding:6px 8px;
  font-size:13px;
}

#sec-dungeon small,
#sec-dungeon .text-muted {
  color: #e6d7bd !important;
}

#pEncontros strong,
#pEncontros span {
  color: #e6d7bd !important;
}



.rpg-card {
  background: linear-gradient(180deg, #1a1a1a, #0e0e0e);
  border: 1px solid rgba(107,75,43,0.9);
  border-radius: 10px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
  color: #d8c8a8; /* texto legível */
}

/* CARD INTERNO */
.rpg-inner-card {
  background: rgba(255,255,255,0.06);      /* mais visível que 0.03 */
  border: 1px solid rgba(255,255,255,0.10);
  border-radius: 8px;
  color: #e0d4bd; /* melhora MUITO o contraste */
}

/* TÍTULOS */
.rpg-card h4, 
.rpg-card h5 {
  color: #ffdca3;
  font-weight: 600;
}

/* TEXTOS PEQUENOS */
.rpg-card small,
.rpg-card p,
.rpg-inner-card small {
  color: #d8c8a8 !important;
}

.text-end small {
  color: #d8c8a8 !important;
}

/* BOTÕES */
.rpg-card button,
.rpg-inner-card button {
  font-weight: 500;
}

body {
  background: radial-gradient(circle at top, #2b2b2b 0%, #0d0d0d 70%);
  color: #efe6d9;
  font-family: "Segoe UI", system-ui;
  min-height: 100vh;
}

/* ===== CONTAINER PRINCIPAL ===== */
.container {
  max-width: 900px;
  padding: 20px;
  border-radius: 12px;
  background: rgba(0,0,0,0.35);
  box-shadow: 0 0 25px rgba(0,0,0,0.6);
  border: 1px solid rgba(120,90,55,0.4);
}

/* ===== TÍTULO PRINCIPAL DO APP ===== */
#menu + h1, 
h1.text-center {
  font-family: "Georgia", serif;
  font-size: 2.3rem;
  color: #f8e6c8;
  text-shadow: 0 0 8px rgba(255,220,150,0.4);
}

/* ===== MENU PRINCIPAL ===== */
#menu {
  padding: 20px;
  background: linear-gradient(180deg, #181818, #0c0c0c);
  border: 1px solid rgba(107,75,43,0.8);
  border-radius: 12px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.7);
}

/* Botões do menu — mais imponentes */
#menu button {
  font-size: 1.05rem;
  padding: 12px;
  font-weight: 600;
  border-radius: 8px;
  letter-spacing: 0.5px;
}

/* Deixa TODOS os botões mais RPG */
#menu .btn-dark {
  background: #26211c;
  border-color: #8c6a45;
  color: #f5e5c4;
}

#menu .btn-primary {
  background: #1e2a48;
  border-color: #546a9d;
}

#menu .btn-warning {
  background: #6d4d1c;
  border-color: #c6a56a;
  color: #fff4d2;
}

#menu .btn-success {
  background: #1f3d2f;
  border-color: #4c8b65;
}

#menu .btn-info {
  background: #1a3942;
  border-color: #4da7bb;
}




/* ==== TÍTULO RPG ==== */
.rpg-title {
  text-align: center;
  font-size: 2.6rem;
  margin-bottom: 25px;
  color: #f3e2c2;
  font-family: Georgia, serif;
  text-shadow: 0 0 10px rgba(255, 230, 180, 0.4);
}

/* ==== CONTAINER DO MENU ==== */
.rpg-menu {
  max-width: 880px;
  margin: 0 auto;
  padding: 25px;
  border-radius: 12px;
  background: rgba(0, 0, 0, 0.45);
  border: 1px solid rgba(122, 90, 55, 0.45);
  box-shadow: 0 0 30px rgba(0,0,0,0.7);
}

/* ==== GRID DO MENU ==== */
.rpg-menu-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 18px;
}

/* ==== CARD DO MENU ==== */
.rpg-menu-card {
  background: linear-gradient(180deg, #1a1a1a, #0e0e0e);
  padding: 20px;
  border-radius: 12px;
  border: 1px solid rgba(150,110,60,0.25);
  box-shadow: 0 6px 16px rgba(0,0,0,0.5);
  color: #e8dbc4;
  text-align: left;
  cursor: pointer;
  transition: 0.25s ease;
}

.rpg-menu-card h3 {
  margin: 5px 0;
  color: #f2d7ac;
  font-family: Georgia, serif;
}

.rpg-menu-card p {
  font-size: 0.9rem;
  color: #d4c8ba;
}

/* ==== ÍCONE ==== */
.rpg-icon {
  font-size: 2.3rem;
  margin-bottom: 6px;
  opacity: 0.95;
}

/* ==== HOVER — efeito mágico dourado ==== */
.rpg-menu-card:hover {
  transform: translateY(-4px);
  border-color: rgba(255, 178, 80, 0.9);
  box-shadow: 0 0 18px rgba(255, 200, 120, 0.7);
}

/* ==== FOCUS ==== */
.rpg-menu-card:active {
  transform: scale(0.98);
}



#sec-mapa {
  position: fixed;
  inset: 0;
  width: 100vw;
  height: 100vh;
  padding: 0 !important;
  margin: 0 !important;
  background: #111;
  z-index: 50; /* acima do menu */
  overflow: hidden; 
}

#sec-mapa .container,
#sec-mapa .row,
#sec-mapa .col,
#sec-mapa .card {
  max-width: none !important;
  padding: 0 !important;
  margin: 0 !important;
}

body.modo-mapa {
  padding: 0 !important;
  overflow: hidden;
}




#mapHUDTop {
  position: fixed;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(20, 20, 20, 0.7);
  padding: 10px 20px;
  border-radius: 12px;
  display: flex;
  align-items: center;
  z-index: 9999;
  backdrop-filter: blur(4px);
  color: white;
}

#mapHUDTop button {
  margin-left: 15px;
}


/* ====== Side Menu ====== */
#mapSideMenu {
  position: fixed;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  display: flex;
  flex-direction: column;
  gap: 12px;
  z-index: 9999;
}

.side-btn {
  width: 54px;
  height: 54px;
  font-size: 28px;
  border-radius: 50%;
  background: #2b2b2b;
  color: white;
  border: 2px solid #444;
  cursor: pointer;
  transition: 0.2s;
}

.side-btn:hover {
  background: #555;
  transform: scale(1.08);
}

.side-btn.danger {
  background: #742020;
  border-color: #a52a2a;
}

.side-btn.danger:hover {
  background: #a53333;
}




/* --------- Toasts (Altaris) --------- */
#toastContainer {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 110000; /* > modals 99999 */
  display: flex;
  flex-direction: column;
  gap: 10px;
  pointer-events: none;
  width: min(92%, 420px);
}

/* toast base */
.alt-toast {
  display: flex;
  gap: 12px;
  align-items: center;
  min-width: 260px;
  max-width: 100%;
  padding: 12px 16px;
  border-radius: 10px;
  color: #f7f2ea;
  font-family: "Segoe UI", system-ui, -apple-system, "Noto Sans", sans-serif;
  font-size: 14px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.45);
  pointer-events: auto;
  border: 1px solid rgba(255,255,255,0.03);
  overflow: hidden;
  opacity: 0;
  transform: translateY(-18px) scale(0.995);
  animation: altaris_toast_in 360ms cubic-bezier(.2,.9,.3,1) forwards;
}

/* icon area */
.alt-toast .alt-icon {
  width: 36px;
  height: 36px;
  flex: 0 0 36px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:8px;
  font-weight:700;
  font-size:16px;
  opacity:0.98;
}

/* text area */
.alt-toast .alt-body { flex:1; line-height:1.25; color: #efe6d9; }

/* variants */
.alt-toast.info    { background: linear-gradient(180deg,#184ea8,#11306a); }
.alt-toast.success { background: linear-gradient(180deg,#1e7b34,#145723); }
.alt-toast.warning { background: linear-gradient(180deg,#a36b0d,#7a4e08); }
.alt-toast.danger  { background: linear-gradient(180deg,#a82323,#6f1212); }

/* icon coloring */
.alt-toast.info    .alt-icon { background: rgba(255,255,255,0.06); color:#cfe6ff; }
.alt-toast.success .alt-icon { background: rgba(255,255,255,0.03); color:#d6f7db;}
.alt-toast.warning .alt-icon { background: rgba(255,255,255,0.03); color:#fff0ce;}
.alt-toast.danger  .alt-icon { background: rgba(255,255,255,0.03); color:#ffd7d7;}

/* sair (animação) - sobra tempo em ms para ficar visível */
@keyframes altaris_toast_in {
  0%   { opacity: 0; transform: translateY(-18px) scale(0.995); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes altaris_toast_out {
  0%   { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-14px) scale(0.995); }
}

/* responsivo: centraliza/ajusta largura em mobile */
@media (max-width: 560px) {
  #toastContainer { top: 12px; width: calc(100% - 24px); left: 12px; transform: none; }
}



/* =======================
      LOADING OVERLAY
======================= */
#loadingOverlay {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.75);
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 200000; /* acima de tudo */
  opacity: 0;
  transition: opacity 0.4s ease;
}

#loadingOverlay.active {
  display: flex;
  opacity: 1;
}

.loadingCard {
  width: 420px;
  padding: 20px;
  background: #111;
  border-radius: 8px;
  box-shadow: 0 0 20px rgba(0,0,0,0.7);
  text-align: center;
  animation: fadeScale 0.4s ease forwards;
}

@keyframes fadeScale {
  from { transform: scale(0.85); opacity: 0; }
  to   { transform: scale(1); opacity: 1; }
}

#loadingImage {
  width: 100%;
  height: auto;
  border-radius: 6px;
  margin-bottom: 20px;
  object-fit: cover;
}

/* Barra de progresso */
.loadingBarContainer {
  width: 100%;
  height: 14px;
  background: #2b2b2b;
  border-radius: 7px;
  overflow: hidden;
  margin-bottom: 12px;
  box-shadow: inset 0 0 5px rgba(0,0,0,0.6);
}

.loadingBar {
  width: 0%;
  height: 100%;
  background: linear-gradient(90deg, #4aa3ff, #7fc8ff);
  transition: width 0.2s linear;
}

#loadingText {
  color: #ddd;
  font-size: 1.1rem;
  margin-top: 8px;
  font-style: italic;
}
